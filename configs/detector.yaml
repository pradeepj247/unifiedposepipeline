# Detector Configuration
# This config controls object detection and tracking for the unified pose pipeline

# ============================================================================
# Detector Settings
# ============================================================================
detector:
  type: yolo  # Options: yolo, rtmdet
  model_path: models/yolo/yolov8s.engine  # Path to detector model
  confidence: 0.3  # Confidence threshold for detections
  device: cuda  # Device to use: cuda or cpu
  detect_only_humans: true  # If true, only detect person class (COCO class 0)

# ============================================================================
# Tracking Settings
# ============================================================================
tracking:
  enabled: true  # Enable/disable tracking (true = use tracker, false = detection only)
  tracker: botsort  # Options: botsort, bytetrack, boosttrack, deepocsort, strongsort, ocsort, hybridsort
                    # Recommended: botsort (best accuracy), bytetrack (fastest), boosttrack (best IDF1)
  
  # Re-Identification (ReID) Settings - Appearance-based tracking
  reid:
    enabled: false  # true = appearance features (slower, better ID), false = motion only (faster)
    weights_path: models/reid/osnet_x0_25_msmt17.pt  # ReID model weights (OSNet, MobileNet, etc.)
    # Note: If weights not found, will automatically fall back to motion-only tracking
  
  # Output mode
  largest_bbox_only: true  # Select only the largest tracked bbox per frame (maintains compatibility)

# ============================================================================
# Input/Output Settings
# ============================================================================
input:
  video_path: demo_data/videos/dance.mp4  # Path to input video
  max_frames: 300  # Maximum number of frames to process (0 = all frames)

output:
  detections_file: demo_data/outputs/detections.npz  # Output detections NPZ file
  save_visualization: false  # Save annotated video with bounding boxes
  visualization_path: demo_data/outputs/detections_vis.mp4  # Visualization output

# ============================================================================
# Advanced Settings
# ============================================================================
advanced:
  batch_size: 1  # Batch size for detection (usually 1 for video)
  verbose: false  # Print progress information
  # 
  # Silent mode (verbose: false) shows:
  #   - Video info (path, resolution, frames)
  #   - Detector/tracker type
  #   - Processing progress bar with FPS
  #   - Frames processed count
  #   - Overall FPS and time taken
  #   - Unique track IDs count (if tracking enabled)
  #   - Writing progress bar (if visualization enabled)
  #   - Saved file confirmations
  # 
  # Verbose mode (verbose: true) additionally shows:
  #   - Model loading messages
  #   - Detailed FPS breakdown (detection/tracking/combined)
  #   - Success rate and valid detections count
  #   - Full track ID table with frame ranges
  #   - File format details
  # 
  # Note: BoxMOT library prints "SUCCESS | ByteTrack:..." message that
  # cannot be suppressed (library-level output, not controlled by our code)
